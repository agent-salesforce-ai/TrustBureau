<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="TrustBureau.ai provides AI-powered business verification and underwriting reports so you can make lending and risk decisions in seconds, not days." />
    <meta name="theme-color" content="#ffffff" />
    <title>TrustBureau.ai - AI-Powered Business Verification & Underwriting</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts: Plus Jakarta Sans (headings) & Inter (body) -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Plus+Jakarta+Sans:wght@600;700;800&display=swap" rel="stylesheet" />

    <!-- Light Theme Tailwind Configuration -->
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              heading: ['Plus Jakarta Sans', 'sans-serif'],
              sans: ['Inter', 'sans-serif'],
            },
            colors: {
              'brand-yellow': '#FACC15',  // Accent
              'brand-dark': '#0F172A',    // Slate-900
              'brand-gray': '#6B7280',    // Gray-500
              'brand-bg': '#F9FAFB',      // Page background
              'brand-card': '#FFFFFF',    // Card background
              'brand-border': '#E5E7EB',  // Subtle borders
            }
          }
        }
      }
    </script>

    <style>
      body {
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .cta-button { transition: all 0.3s ease; }
      .cta-button:hover {
        transform: translateY(-1px);
        box-shadow: 0 10px 20px rgba(15,23,42,0.08);
      }
      .cta-button:active { transform: translateY(0); box-shadow: none; }
      button, a { -webkit-tap-highlight-color: transparent; cursor: pointer; }

      /* Score gauge (light) */
      .score-circle {
        width: 120px; height: 120px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        font-family: 'Plus Jakarta Sans','sans-serif';
        font-weight: 800; font-size: 2.5rem; border: 8px solid;
        background-color: #F3F4F6; /* slate-100 */
      }
      .score-red    { border-color:#FCA5A5; color:#B91C1C; }
      .score-yellow { border-color:#FDE68A; color:#B45309; }
      .score-green  { border-color:#BBF7D0; color:#166534; }

      /* Report list items */
      .report-list-item {
        padding-bottom: .75rem; border-bottom: 1px solid #E5E7EB; margin-bottom: .75rem;
      }
      .report-list-item:last-child { border-bottom: none; padding-bottom: 0; margin-bottom: 0; }

      /* Mini charts (light) */
      .chart-visual {
        border-left: 1px solid #E5E7EB; border-bottom: 1px solid #E5E7EB;
        height: 150px; display: flex; justify-content: space-around; align-items: flex-end;
        padding: 10px 12px 6px 12px; gap: 8px; background-color: #F9FAFB;
      }
      .chart-empty { font-size: .875rem; color:#6B7280; padding:16px 4px 8px; text-align:center; width:100%; }
      .bar-wrapper { flex:1; max-width:90px; height:100%; display:flex; flex-direction:column-reverse; align-items:center; position:relative; }
      .bar {
        width:90%; max-width:40px; background-color:#FACC15; min-height:2px; border-radius:4px 4px 0 0; transition:height .5s ease-out;
      }
      .bar-green  { background-color:#22C55E; } /* emerald-500 */
      .bar-grey   { background-color:#9CA3AF; } /* gray-400 */
      .bar-yellow { background-color:#FACC15; } /* brand-yellow */
      .bar-red    { background-color:#EF4444; } /* red-500 */
      .bar-label  { font-size:.75rem; color:#6B7280; padding-top:4px; text-align:center; font-weight:500; }
      .bar-value  { position:absolute; top:-20px; left:50%; transform:translateX(-50%); font-size:.75rem; color:#0F172A; font-weight:600; white-space:nowrap; }

      /* Data table (light) */
      .data-table { border-collapse: collapse; width:100%; font-size:.875rem; overflow-x:auto; display:block; }
      .data-table th, .data-table td { padding:10px 12px; border-bottom:1px solid #E5E7EB; text-align:left; white-space:nowrap; }
      .data-table th { background:#F3F4F6; font-weight:600; color:#6B7280; font-size:.75rem; text-transform:uppercase; }
      .data-table tr:last-child td { border-bottom:none; }
      .data-table .monthly-avg { font-weight:600; background:#EEF2FF; color:#0F172A; border-top:2px solid #E5E7EB; }
      .text-red-table { color:#DC2626; }
      .text-green-table { color:#16A34A; }

      /* Risk checklist */
      .risk-checklist-item { display:flex; align-items:flex-start; gap:12px; font-size:.875rem; margin-bottom:.75rem; line-height:1.4; }
      .risk-checklist-item:last-child { margin-bottom:0; }
      .risk-label { flex:0 0 160px; color:#0F172A; font-weight:500; }
      .risk-status { flex:1; font-weight:600; text-align:left; }
      .risk-green{ color:#15803D; } .risk-red{ color:#B91C1C; } .risk-yellow{ color:#B45309; } .risk-grey{ color:#6B7280; }

      /* Hero visuals (cards) */
      .hero-visual {
        background:#FFFFFF; border:1px solid #E5E7EB; border-radius:.75rem;
        box-shadow:0 18px 45px rgba(15,23,42,.08); overflow:hidden;
      }
      .hero-visual-header { display:flex; align-items:center; padding:.75rem 1rem; background:#F3F4F6; border-bottom:1px solid #E5E7EB; }
      .hero-visual-header .dot { height:.75rem; width:.75rem; border-radius:9999px; background:#D1D5DB; margin-right:.5rem; }
      .hero-visual-body { padding:1.5rem; background:#FFFFFF; }
    </style>
</head>

<body class="font-sans text-brand-dark bg-brand-bg">
  <div id="main-app" class="relative min-h-screen">
    <!-- Header -->
    <header class="sticky top-0 z-40 bg-white/80 backdrop-blur-md border-b border-brand-border">
      <div class="container mx-auto px-6 py-4">
        <div class="flex items-center justify-between">
          <a href="#" class="flex items-center space-x-2" aria-label="TrustBureau.ai home">
            <!-- Shield logo -->
            <svg class="w-8 h-8" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <path d="M12 2.25L4.5 5.25v6.75c0 4.17 3.01 7.98 7.5 9.75 4.49-1.77 7.5-5.58 7.5-9.75V5.25L12 2.25Z" fill="#FACC15"/>
              <path d="M10.3 13.95 8 11.65l-1.2 1.2 3.5 3.5 6.9-6.9-1.2-1.2-5.7 5.7Z" fill="#0F172A"/>
            </svg>
            <span class="font-heading font-bold text-xl text-brand-dark">TrustBureau.ai</span>
          </a>

          <nav class="hidden md:flex items-center space-x-6" aria-label="Main navigation">
            <a href="#demo" class="text-sm font-medium text-brand-gray hover:text-brand-dark transition-colors">Demo</a>
            <a href="#platform" class="text-sm font-medium text-brand-gray hover:text-brand-dark transition-colors">Platform</a>
            <a href="#pricing" class="text-sm font-medium text-brand-gray hover:text-brand-dark transition-colors">Pricing</a>
            <a href="#demo" class="cta-button bg-brand-yellow text-black font-semibold py-2 px-5 rounded-lg text-sm hover:bg-yellow-300" aria-label="Search businesses">Search</a>
          </nav>

          <!-- Mobile Menu Button -->
          <div class="md:hidden">
            <button id="mobile-menu-btn" class="text-brand-dark p-2" aria-label="Toggle navigation menu" aria-expanded="false">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
          </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden mt-4">
          <nav class="flex flex-col space-y-4" aria-label="Mobile navigation">
            <a href="#demo" class="mobile-nav-link text-lg font-medium text-brand-gray hover:text-brand-dark transition-colors">Demo</a>
            <a href="#platform" class="mobile-nav-link text-lg font-medium text-brand-gray hover:text-brand-dark transition-colors">Platform</a>
            <a href="#pricing" class="mobile-nav-link text-lg font-medium text-brand-gray hover:text-brand-dark transition-colors">Pricing</a>
            <a href="#demo" class="mobile-nav-link cta-button bg-brand-yellow text-black font-semibold py-3 px-6 rounded-lg text-lg hover:bg-yellow-300 text-center">Search</a>
          </nav>
        </div>
      </div>
    </header>

    <main id="main-page">
      <!-- Hero -->
      <section class="relative py-20 md:py-28 bg-gradient-to-b from-white via-brand-bg to-slate-100 overflow-hidden">
        <div class="container mx-auto px-6 z-10">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <div class="text-center lg:text-left">
              <p class="inline-flex items-center text-xs font-semibold uppercase tracking-[0.25em] text-brand-gray mb-4">
                AI-POWERED BUSINESS UNDERWRITING
              </p>
              <h1 class="font-heading font-extrabold text-4xl md:text-5xl lg:text-6xl text-brand-dark leading-tight">
                AI Underwriting.
                <span class="block text-brand-yellow">Instant. Accurate. Fair.</span>
              </h1>
              <p class="mt-6 text-lg md:text-xl text-brand-gray max-w-xl mx-auto lg:mx-0">
                TrustBureau delivers comprehensive AI-powered business verification and underwriting reports so you can make lending and risk decisions in seconds, not days.
              </p>
              <div class="mt-10 flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                <a href="#demo" class="cta-button bg-brand-yellow text-black font-semibold py-3.5 px-8 rounded-lg text-base md:text-lg hover:bg-yellow-300">Try the demo</a>
                <a href="#platform" class="cta-button bg-white text-brand-dark font-semibold py-3.5 px-8 rounded-lg text-base md:text-lg border border-brand-border hover:bg-slate-50">Learn more</a>
              </div>
              <p class="mt-4 text-xs text-brand-gray">No credit card required. Live data where available, realistic synthetic data otherwise.</p>
            </div>

            <!-- Hero Visual -->
            <div class="hero-visual" aria-hidden="true">
              <div class="hero-visual-header"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
              <div class="hero-visual-body" style="min-height: 400px;">
                <div class="space-y-5">
                  <div class="flex items-center space-x-4">
                    <div class="score-circle score-green" style="width:80px;height:80px;font-size:1.75rem;border-width:6px;"><span>780</span></div>
                    <div class="flex-1 space-y-3">
                      <div class="h-6 bg-slate-100 rounded-md w-3/4"></div>
                      <div class="h-4 bg-slate-100 rounded-md w-1/2"></div>
                    </div>
                  </div>

                  <div class="p-4 border-l-4 rounded-r-lg bg-emerald-50 border-emerald-400 text-emerald-900">
                    <h5 class="font-heading font-semibold text-lg">Approve</h5>
                    <p class="text-sm mt-1">Strong financials, consistent positive cash flow, and stable counterparties.</p>
                  </div>

                  <div>
                    <h5 class="text-xs font-semibold uppercase tracking-wide text-brand-gray mb-2">Key drivers</h5>
                    <ul class="space-y-1.5">
                      <li class="flex items-start">
                        <svg class="w-4 h-4 text-emerald-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <span class="text-sm text-brand-dark">Active corporate filings &amp; clear records</span>
                      </li>
                      <li class="flex items-start">
                        <svg class="w-4 h-4 text-emerald-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                        <span class="text-sm text-brand-dark">Robust, diversified revenue</span>
                      </li>
                    </ul>
                  </div>

                  <div class="chart-visual" style="height:110px;padding:10px 12px 0 12px;">
                    <div class="bar-wrapper" title="Sep: $3.2M"><div class="bar-value">$3.2M</div><div class="bar bar-green" style="height:60%;"></div><div class="bar-label" style="padding-top:2px;">Sep</div></div>
                    <div class="bar-wrapper" title="Oct: $3.6M"><div class="bar-value">$3.6M</div><div class="bar bar-green" style="height:80%;"></div><div class="bar-label" style="padding-top:2px;">Oct</div></div>
                    <div class="bar-wrapper" title="Nov: $3.9M"><div class="bar-value">$3.9M</div><div class="bar bar-green" style="height:100%;"></div><div class="bar-label" style="padding-top:2px;">Nov</div></div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- Report Generator -->
      <section id="demo" class="py-20 bg-white">
        <div class="container mx-auto px-6">
          <div id="main-widget-container" class="max-w-7xl mx-auto w-full transition-all duration-300 ease-in-out">
            <div class="bg-brand-card border border-brand-border rounded-2xl shadow-xl p-6 md:p-8 flex flex-col relative">
              <!-- Search header (hidden by default) -->
              <div id="report-search-header" class="max-w-xl mx-auto w-full" style="display:none;">
                <h2 class="font-heading font-bold text-3xl md:text-4xl text-brand-dark text-center">Try the live demo</h2>
                <p class="text-base md:text-lg text-brand-gray text-center mt-3 mb-8">Enter any business name to generate an AI-powered underwriting snapshot in seconds.</p>
                <div class="space-y-4">
                  <div>
                    <label for="business-name" class="block text-sm font-medium text-brand-dark text-center">Business name</label>
                    <input id="business-name" type="text" class="mt-1 block w-full px-3 py-3 border border-brand-border rounded-lg shadow-sm placeholder-brand-gray focus:outline-none focus:ring-2 focus:ring-brand-yellow focus:border-brand-yellow sm:text-sm bg-white text-brand-dark" placeholder="e.g., Tesla, Inc. or Apex Innovations" />
                  </div>
                  <button id="generate-report-btn" class="group relative w-full flex justify-center items-center cta-button bg-brand-yellow text-black font-semibold py-3.5 px-8 rounded-lg text-lg hover:bg-yellow-300 disabled:opacity-50 disabled:cursor-wait">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor"><path d="M17.293 15.707a1 1 0 00-1.414-1.414l-3.04-3.04A7 7 0 109 16a6.96 6.96 0 004.253-1.469l3.04 3.04a1 1 0 001.414-1.414zM9 14a5 5 0 110-10 5 5 0 010 10z"/></svg>
                    <span>Generate report</span>
                  </button>
                </div>
              </div>

              <!-- Results UI -->
              <div id="report-results-ui" class="w-full" style="display:block;">
                <!-- Loader -->
                <div id="report-loader" style="display:none;" class="flex flex-col items-center justify-center space-y-2 results-box py-16">
                  <svg class="animate-spin h-10 w-10 text-brand-yellow" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                  </svg>
                  <span class="text-base text-brand-gray font-medium">Building comprehensive report…</span>
                  <span class="text-xs text-brand-gray">The AI is running multiple searches and aggregating data.</span>
                </div>

                <!-- Error -->
                <div id="report-error-container" style="display:none;" class="p-4 border border-red-200 rounded-lg bg-red-50 results-box flex flex-col items-center justify-center">
                  <p class="text-sm font-semibold text-red-700">We hit a snag</p>
                  <p class="text-sm text-red-600 mt-1" id="report-error-message"></p>
                </div>

                <!-- Static sample header -->
                <h3 id="report-static-header" class="text-2xl font-heading font-bold text-brand-dark mb-4 text-center">Live AI comprehensive business report</h3>

                <!-- Report content -->
                <div id="report-content" class="w-full" style="display:block;margin-top:1.5rem;border-top:1px solid #E5E7EB;padding-top:1.5rem;">
                  <div class="mb-6 pb-4 border-b border-brand-border">
                    <h2 id="report-company-name-header" class="text-2xl md:text-3xl font-heading font-bold text-brand-dark text-center">Apple Inc. (Sample)</h2>
                    <p id="report-summary-header" class="text-center text-brand-gray text-base md:text-lg mt-2 max-w-3xl mx-auto">
                      A comprehensive AI-generated report on Apple Inc., focusing on key business, financial, and risk metrics.
                    </p>
                  </div>

                  <div class="grid grid-cols-1 lg:grid-cols-5 gap-6 lg:gap-8">
                    <!-- Sidebar -->
                    <div class="lg:col-span-2 space-y-6">
                      <!-- AI Risk Score -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">AI risk score</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <div id="report-score-circle" class="score-circle mb-4 score-green"><span id="report-score-digit">810</span></div>
                          <p id="report-score-justification" class="text-center text-brand-gray text-sm mb-4 italic">Excellent financial health, strong brand, and consistent market leadership.</p>

                          <div class="w-full text-left">
                            <h5 class="text-xs font-semibold uppercase tracking-wide text-brand-gray mb-2">Positive factors</h5>
                            <ul id="report-score-positives" class="space-y-1.5 mb-3">
                              <li class="flex items-start">
                                <svg class="w-4 h-4 text-emerald-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                <span class="text-sm text-brand-dark">Massive cash reserves</span>
                              </li>
                              <li class="flex items-start">
                                <svg class="w-4 h-4 text-emerald-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                <span class="text-sm text-brand-dark">High profitability</span>
                              </li>
                            </ul>

                            <h5 class="text-xs font-semibold uppercase tracking-wide text-brand-gray mb-2">Constraints</h5>
                            <ul id="report-score-negatives" class="space-y-1.5">
                              <li class="flex items-start">
                                <svg class="w-4 h-4 text-red-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
                                <span class="text-sm text-brand-dark">Regulatory scrutiny</span>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>

                      <!-- Public Sentiment -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Public sentiment</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <h5 id="report-sentiment-rating" class="font-heading font-bold text-2xl text-brand-dark mb-1">Positive (8/10)</h5>
                          <p id="report-sentiment-justification" class="text-sm text-brand-gray italic">
                            Sentiment is broadly positive, citing product quality and brand loyalty. Negative themes focus on high prices and antitrust concerns.
                          </p>
                        </div>
                      </div>

                      <!-- Public Records -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Public records</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul id="report-records-list" class="space-y-2 list-disc list-inside text-sm text-brand-gray">
                            <li class="text-emerald-600"><strong>Clear:</strong> <span class="text-brand-gray">No liens, judgments, or bankruptcies found for Apple Inc.</span></li>
                          </ul>
                        </div>
                      </div>

                      <!-- Legal & Regulatory -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Legal &amp; regulatory</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul id="report-legal-list" class="space-y-2 list-disc list-inside text-sm text-brand-gray">
                            <li class="text-red-600"><strong>Lawsuit:</strong> <span class="text-brand-gray">Ongoing antitrust lawsuit from the DOJ regarding App Store policies.</span></li>
                            <li class="text-red-600"><strong>Regulatory:</strong> <span class="text-brand-gray">Facing fines from the EU related to DMA compliance.</span></li>
                          </ul>
                        </div>
                      </div>

                      <!-- AI Risk Checklist -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">AI risk checklist</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul id="report-risk-checklist" class="space-y-3">
                            <li class="risk-checklist-item"><span class="risk-label">Corporate filings</span><span class="risk-status risk-green">Active &amp; in good standing</span></li>
                            <li class="risk-checklist-item"><span class="risk-label">Sanctions &amp; PEP</span><span class="risk-status risk-green">No hits found</span></li>
                            <li class="risk-checklist-item"><span class="risk-label">Adverse media</span><span class="risk-status risk-yellow">Minor hits (antitrust)</span></li>
                            <li class="risk-checklist-item"><span class="risk-label">Financial health</span><span class="risk-status risk-green">Excellent</span></li>
                            <li class="risk-checklist-item"><span class="risk-label">Public records</span><span class="risk-status risk-green">Clear</span></li>
                            <li class="risk-checklist-item"><span class="risk-label">Web presence</span><span class="risk-status risk-green">Verified &amp; authoritative</span></li>
                          </ul>
                        </div>
                      </div>

                      <!-- SWOT Analysis -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">SWOT analysis</h4>
                        <div class="space-y-4">
                          <div class="p-4 border border-emerald-100 rounded-xl bg-emerald-50">
                            <h5 class="font-semibold text-emerald-700 mb-2">Strengths</h5>
                            <ul id="report-swot-strengths" class="space-y-1 list-disc list-inside text-sm text-brand-gray">
                              <li>Iconic brand and ecosystem</li><li>Exceptional profitability</li><li>Strong R&amp;D pipeline</li>
                            </ul>
                          </div>
                          <div class="p-4 border border-red-100 rounded-xl bg-red-50">
                            <h5 class="font-semibold text-red-700 mb-2">Weaknesses</h5>
                            <ul id="report-swot-weaknesses" class="space-y-1 list-disc list-inside text-sm text-brand-gray">
                              <li>High price point</li><li>Dependence on iPhone sales</li>
                            </ul>
                          </div>
                          <div class="p-4 border border-sky-100 rounded-xl bg-sky-50">
                            <h5 class="font-semibold text-sky-700 mb-2">Opportunities</h5>
                            <ul id="report-swot-opportunities" class="space-y-1 list-disc list-inside text-sm text-brand-gray">
                              <li>Expansion in emerging markets</li><li>Growth in Services (App Store, TV+)</li>
                            </ul>
                          </div>
                          <div class="p-4 border border-amber-100 rounded-xl bg-amber-50">
                            <h5 class="font-semibold text-amber-700 mb-2">Threats</h5>
                            <ul id="report-swot-threats" class="space-y-1 list-disc list-inside text-sm text-brand-gray">
                              <li>Intense competition</li><li>Supply chain vulnerabilities</li><li>Antitrust regulation</li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Main Column -->
                    <div class="lg:col-span-3 space-y-6">
                      <!-- AI Recommendation -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">AI underwriting recommendation</h4>
                        <div id="report-recommendation-box" class="p-4 border-l-4 rounded-r-lg bg-emerald-50 border-emerald-400 text-emerald-900">
                          <h5 id="report-recommendation-decision" class="font-heading font-bold text-2xl text-emerald-700">Approve</h5>
                          <p id="report-recommendation-justification" class="text-sm mt-1">
                            Recommendation is “Approve” based on overwhelming financial strength, market dominance, and positive cash flow.
                          </p>
                        </div>
                      </div>

                      <!-- Key Information -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Key information</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul class="space-y-2 text-sm text-brand-gray">
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Website</strong><span id="report-key-website" class="font-medium text-brand-dark sm:text-right break-all"><a href="//apple.com" class="text-blue-600 hover:underline" target="_blank" rel="noopener">apple.com</a></span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Industry</strong><span id="report-key-industry" class="font-medium text-brand-dark sm:text-right break-words">Technology, Consumer Electronics</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>CEO</strong><span id="report-key-ceo" class="font-medium text-brand-dark sm:text-right break-words">Tim Cook</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Founded</strong><span id="report-key-founded" class="font-medium text-brand-dark sm:text-right break-words">1976</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Employees</strong><span id="report-key-employees" class="font-medium text-brand-dark sm:text-right break-words">161,000+</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Phone</strong><span id="report-key-phone" class="font-medium text-brand-dark sm:text-right break-words">(800) 275-2273</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Address</strong><span id="report-key-address" class="font-medium text-brand-dark sm:text-right text-left break-words">One Apple Park Way, Cupertino, CA 95014</span></li>
                          </ul>
                        </div>
                      </div>

                      <!-- Business Location -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Business location</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <iframe id="report-map-iframe" width="100%" height="300" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
                                  src="https://maps.google.com/maps?q=One%20Apple%20Park%20Way%2C%20Cupertino%2C%20CA%2095014&t=&z=13&ie=UTF8&iwloc=&output=embed"
                                  class="rounded-lg border border-brand-border" aria-label="Business Location Map" style="display:block;"></iframe>
                          <p id="report-map-fallback" class="text-sm text-brand-gray italic mt-2" style="display:none;">Map could not be loaded. Address may be missing or invalid.</p>
                        </div>
                      </div>

                      <!-- Corporate Filings -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Corporate filings</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul class="space-y-2 text-sm text-brand-gray">
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Entity name</strong><span id="report-sos-name" class="font-medium text-brand-dark sm:text-right break-words">APPLE INC.</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Entity type</strong><span id="report-sos-entity" class="font-medium text-brand-dark sm:text-right break-words">Corporation</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Status</strong><span id="report-sos-status" class="font-medium text-emerald-700 sm:text-right break-words">Active</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Jurisdiction</strong><span id="report-sos-jurisdiction" class="font-medium text-brand-dark sm:text-right break-words">California</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Formation date</strong><span id="report-sos-date" class="font-medium text-brand-dark sm:text-right break-words">01/03/1977</span></li>
                            <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Registered agent</strong><span id="report-sos-agent" class="font-medium text-brand-dark sm:text-right break-words">CORPORATION SERVICE COMPANY</span></li>
                          </ul>
                        </div>
                      </div>

                      <!-- Top Counterparties -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Top counterparties (sample)</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul id="report-counterparties-list" class="space-y-3">
                            <li class="report-list-item">
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-1">
                                <strong class="text-sm font-medium text-brand-dark">App Store (Inflow)</strong>
                                <span class="text-sm font-semibold text-emerald-600 sm:text-right">$1.2B / mo (Avg)</span>
                              </div>
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-brand-gray">
                                <span>Type: Customer / Platform fees</span><span class="sm:text-right">Relationship: Internal</span>
                              </div>
                            </li>
                            <li class="report-list-item">
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-1">
                                <strong class="text-sm font-medium text-brand-dark">Foxconn (Outflow)</strong>
                                <span class="text-sm font-semibold text-red-600 sm:text-right">$3.1B / mo (Avg)</span>
                              </div>
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-brand-gray">
                                <span>Type: Vendor / Manufacturing</span><span class="sm:text-right">Relationship: External</span>
                              </div>
                            </li>
                            <li class="report-list-item">
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-1">
                                <strong class="text-sm font-medium text-brand-dark">TSMC (Outflow)</strong>
                                <span class="text-sm font-semibold text-red-600 sm:text-right">$1.5B / mo (Avg)</span>
                              </div>
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-brand-gray">
                                <span>Type: Vendor / Components</span><span class="sm:text-right">Relationship: External</span>
                              </div>
                            </li>
                          </ul>
                        </div>
                      </div>

                      <!-- Debt Obligations -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Extrapolated debt obligations</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul id="report-debt-obligations-list" class="space-y-3">
                            <li class="report-list-item">
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-1">
                                <strong class="text-sm font-medium text-brand-dark">Corporate bond (unsecured)</strong>
                                <span class="text-sm font-semibold text-red-600 sm:text-right">$920M / mo</span>
                              </div>
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-brand-gray">
                                <span>Lender: Various (public bondholders)</span><span class="sm:text-right">Est. balance: $109.8B</span>
                              </div>
                            </li>
                            <li class="report-list-item">
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-1">
                                <strong class="text-sm font-medium text-brand-dark">Commercial paper</strong>
                                <span class="text-sm font-semibold text-red-600 sm:text-right">$150M / mo</span>
                              </div>
                              <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-brand-gray">
                                <span>Lender: Various money market funds</span><span class="sm:text-right">Est. balance: $10.2B</span>
                              </div>
                            </li>
                          </ul>
                        </div>
                      </div>

                      <!-- Financial Summary -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Financial summary</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <div id="report-fin-public" style="display:block;">
                            <ul class="space-y-2 text-sm text-brand-gray">
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Type</strong><span class="font-medium text-brand-dark sm:text-right break-words">Public company</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Ticker</strong><span id="report-fin-ticker" class="font-medium text-brand-dark sm:text-right break-words">AAPL</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Market cap</strong><span id="report-fin-marketcap" class="font-medium text-brand-dark sm:text-right break-words">$2.85 trillion</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Latest revenue</strong><span id="report-fin-revenue" class="font-medium text-brand-dark sm:text-right break-words">$383.29 billion (TTM)</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Net income</strong><span id="report-fin-netincome" class="font-medium text-brand-dark sm:text-right break-words">$96.99 billion (TTM)</span></li>
                            </ul>
                          </div>
                          <div id="report-fin-private" style="display:none;">
                            <ul class="space-y-2 text-sm text-brand-gray">
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Type</strong><span class="font-medium text-brand-dark sm:text-right break-words">Private company</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Est. annual revenue</strong><span id="report-fin-est-revenue" class="font-medium text-brand-dark sm:text-right break-words"></span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Est. profit margin</strong><span id="report-fin-est-margin" class="font-medium text-brand-dark sm:text-right break-words"></span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Est. cash on hand</strong><span id="report-fin-est-cash" class="font-medium text-brand-dark sm:text-right break-words"></span></li>
                            </ul>
                          </div>

                          <div id="report-fin-credit" class="mt-4 pt-4 border-t border-brand-border">
                            <h5 class="text-xs font-semibold uppercase tracking-wide text-brand-gray mb-3">Credit snapshot</h5>
                            <ul class="space-y-2 text-sm text-brand-gray">
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Decision</strong><span id="report-fin-credit-decision" class="font-medium text-brand-dark sm:text-right break-words">Approve</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>FICO score</strong><span id="report-fin-credit-score" class="font-medium text-brand-dark sm:text-right break-words">810 (est.)</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Total debt (credit)</strong><span id="report-fin-credit-total-debt" class="font-medium text-brand-dark sm:text-right break-words">$120.0B</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Revolving debt</strong><span id="report-fin-credit-revolving-debt" class="font-medium text-brand-dark sm:text-right break-words">$0 (N/A)</span></li>
                              <li class="flex flex-col sm:flex-row sm:justify-between"><strong>Avg monthly revenue (bank)</strong><span id="report-fin-credit-avg-revenue" class="font-medium text-brand-dark sm:text-right break-words">$31.9B</span></li>
                            </ul>
                          </div>

                          <p id="report-fin-note" class="text-xs italic text-brand-gray mt-3 pt-3 border-t border-brand-border">Data sourced from public filings.</p>
                        </div>
                      </div>

                      <!-- Recent News -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Recent news</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul id="report-news-list" class="space-y-3">
                            <li class="report-list-item">
                              <strong class="text-sm font-medium text-brand-dark">Apple unveils new M4 chips and AI-focused Macs</strong>
                              <p class="text-sm text-brand-gray mt-1 mb-2">Apple announced its next generation of chips, focusing heavily on on-device AI capabilities.</p>
                              <span class="text-xs text-brand-gray font-medium">Bloomberg</span>
                            </li>
                            <li class="report-list-item">
                              <strong class="text-sm font-medium text-brand-dark">DOJ antitrust trial begins</strong>
                              <p class="text-sm text-brand-gray mt-1 mb-2">The Department of Justice has started its antitrust case against Apple, targeting App Store policies.</p>
                              <span class="text-xs text-brand-gray font-medium">Reuters</span>
                            </li>
                          </ul>
                        </div>
                      </div>

                      <!-- Customer Reviews -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Customer reviews</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul id="report-reviews-list" class="space-y-4">
                            <blockquote class="p-4 border-l-4 border-brand-border bg-slate-50 report-list-item">
                              <div class="flex justify-between items-center mb-1">
                                <span class="text-sm font-medium text-brand-dark">Trustpilot</span>
                                <span class="text-sm font-semibold text-amber-500">4.5/5</span>
                              </div>
                              <p class="text-sm italic text-brand-gray">"Incredible products, but the customer service for repairs can be slow."</p>
                            </blockquote>
                            <blockquote class="p-4 border-l-4 border-brand-border bg-slate-50 report-list-item">
                              <div class="flex justify-between items-center mb-1">
                                <span class="text-sm font-medium text-brand-dark">ConsumerAffairs</span>
                                <span class="text-sm font-semibold text-amber-500">4.2/5</span>
                              </div>
                              <p class="text-sm italic text-brand-gray">"The ecosystem is seamless, but I'm worried about being locked in."</p>
                            </blockquote>
                          </ul>
                        </div>
                      </div>

                      <!-- Competitive Landscape -->
                      <div>
                        <h4 class="font-heading font-semibold text-brand-dark mb-3">Competitive landscape</h4>
                        <div class="p-4 border border-brand-border rounded-xl bg-white">
                          <ul id="report-competitors-list" class="space-y-3">
                            <li class="report-list-item"><strong class="text-sm font-medium text-brand-dark">Samsung Electronics</strong><p class="text-sm text-brand-gray mt-1">Direct competitor in smartphones, tablets, and wearables with strong global presence.</p></li>
                            <li class="report-list-item"><strong class="text-sm font-medium text-brand-dark">Microsoft</strong><p class="text-sm text-brand-gray mt-1">Competes in personal computing (Surface) and operating systems (Windows).</p></li>
                            <li class="report-list-item"><strong class="text-sm font-medium text-brand-dark">Google (Alphabet)</strong><p class="text-sm text-brand-gray mt-1">Competes in operating systems (Android), smartphones (Pixel), and cloud services.</p></li>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Banking Snapshot -->
                  <div class="mt-6">
                    <h4 class="font-heading font-semibold text-brand-dark mb-3">Banking snapshot &amp; trends (fictional)</h4>
                    <div class="p-4 border border-brand-border rounded-xl bg-white">
                      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                          <h5 class="text-sm font-semibold text-brand-dark mb-2">True revenue (last 3 months)</h5>
                          <div id="banking-chart-revenue" class="chart-visual">
                            <div class="bar-wrapper" title="Sep '24: $90.1B"><div class="bar-value">$90.1B</div><div class="bar bar-green" style="height:94.8421%"></div><div class="bar-label">Sep '24</div></div>
                            <div class="bar-wrapper" title="Oct '24: $92.5B"><div class="bar-value">$92.5B</div><div class="bar bar-green" style="height:97.3684%"></div><div class="bar-label">Oct '24</div></div>
                            <div class="bar-wrapper" title="Nov '24: $95.0B"><div class="bar-value">$95.0B</div><div class="bar bar-green" style="height:100%"></div><div class="bar-label">Nov '24</div></div>
                          </div>
                        </div>
                        <div>
                          <h5 class="text-sm font-semibold text-brand-dark mb-2">Average daily balance</h5>
                          <div id="banking-chart-avg-balance" class="chart-visual">
                            <div class="bar-wrapper" title="Sep '24: $45.2B"><div class="bar-value">$45.2B</div><div class="bar bar-grey" style="height:100%"></div><div class="bar-label">Sep '24</div></div>
                            <div class="bar-wrapper" title="Oct '24: $42.1B"><div class="bar-value">$42.1B</div><div class="bar bar-grey" style="height:93.1415%"></div><div class="bar-label">Oct '24</div></div>
                            <div class="bar-wrapper" title="Nov '24: $44.8B"><div class="bar-value">$44.8B</div><div class="bar bar-grey" style="height:99.115%"></div><div class="bar-label">Nov '24</div></div>
                          </div>
                        </div>
                        <div>
                          <h5 class="text-sm font-semibold text-brand-dark mb-3">Ending balance</h5>
                          <div id="banking-chart-end-balance" class="chart-visual">
                            <div class="bar-wrapper" title="Sep '24: $62.1B"><div class="bar-value">$62.1B</div><div class="bar bar-yellow" style="height:100%"></div><div class="bar-label">Sep '24</div></div>
                            <div class="bar-wrapper" title="Oct '24: $61.5B"><div class="bar-value">$61.5B</div><div class="bar bar-yellow" style="height:99.0338%"></div><div class="bar-label">Oct '24</div></div>
                            <div class="bar-wrapper" title="Nov '24: $61.9B"><div class="bar-value">$61.9B</div><div class="bar bar-yellow" style="height:99.6779%"></div><div class="bar-label">Nov '24</div></div>
                          </div>
                        </div>
                        <div>
                          <h5 class="text-sm font-semibold text-brand-dark mb-2">Debt service (monthly payments)</h5>
                          <div id="banking-chart-debt" class="chart-visual">
                            <div class="bar-wrapper" title="Sep '24: $1.2B"><div class="bar-value">$1.2B</div><div class="bar bar-red" style="height:100%"></div><div class="bar-label">Sep '24</div></div>
                            <div class="bar-wrapper" title="Oct '24: $1.1B"><div class="bar-value">$1.1B</div><div class="bar bar-red" style="height:91.6667%"></div><div class="bar-label">Oct '24</div></div>
                            <div class="bar-wrapper" title="Nov '24: $1.2B"><div class="bar-value">$1.2B</div><div class="bar bar-red" style="height:100%"></div><div class="bar-label">Nov '24</div></div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <!-- Monthly Financial Breakdown -->
                  <div class="mt-6">
                    <h4 class="font-heading font-semibold text-brand-dark mb-3">Monthly financial breakdown (fictional)</h4>
                    <div class="p-4 border border-brand-border rounded-xl bg-white">
                      <div class="overflow-x-auto">
                        <table class="data-table w-full">
                          <thead>
                            <tr>
                              <th>Month</th><th>Total credits</th><th>Total debits</th><th>Avg balance</th><th>Min balance</th><th>Days negative</th><th># NSFs</th><th>Net cashflow</th>
                            </tr>
                          </thead>
                          <tbody id="report-monthly-breakdown-body">
                            <tr>
                              <td class="font-medium text-brand-dark">November '24</td>
                              <td class="text-green-table">$97.30B</td>
                              <td class="text-red-table">$93.42B</td>
                              <td>$44.8B</td><td>$35.1B</td><td>0</td><td>0</td>
                              <td class="font-medium text-green-table">$3.88B</td>
                            </tr>
                            <tr>
                              <td class="font-medium text-brand-dark">October '24</td>
                              <td class="text-green-table">$92.10B</td>
                              <td class="text-red-table">$93.90B</td>
                              <td>$42.1B</td><td>$33.2B</td><td>0</td><td>0</td>
                              <td class="font-medium text-red-table">-$1.80B</td>
                            </tr>
                            <tr>
                              <td class="font-medium text-brand-dark">September '24</td>
                              <td class="text-green-table">$89.50B</td>
                              <td class="text-red-table">$87.20B</td>
                              <td>$45.2B</td><td class="text-red-table">$36.0B</td><td>0</td><td>0</td>
                              <td class="font-medium text-green-table">$2.30B</td>
                            </tr>
                            <tr class="monthly-avg">
                              <td>Average</td><td>$92.97B</td><td>$91.51B</td><td>$44.0B</td><td>$34.7B</td><td>0</td><td>0</td><td class="font-medium text-green-table">$1.46B</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>

                  <!-- Sources -->
                  <div id="report-sources-container" class="mt-8 border-t border-brand-border pt-6" style="display:block;">
                    <h5 class="text-xs font-semibold text-brand-gray uppercase mb-3 tracking-wide">Data sources</h5>
                    <ul id="report-sources" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-4 gap-y-1 list-disc list-inside">
                      <li class="text-xs truncate"><a href="#" class="text-blue-600 hover:text-blue-700 hover:underline" target="_blank" rel="noopener">Apple Inc. (AAPL) SEC filings</a></li>
                      <li class="text-xs truncate"><a href="#" class="text-blue-600 hover:text-blue-700 hover:underline" target="_blank" rel="noopener">Bloomberg terminal data</a></li>
                      <li class="text-xs truncate"><a href="#" class="text-blue-600 hover:text-blue-700 hover:underline" target="_blank" rel="noopener">California Secretary of State</a></li>
                      <li class="text-xs truncate"><a href="#" class="text-blue-600 hover:text-blue-700 hover:underline" target="_blank" rel="noopener">Reuters news archive</a></li>
                    </ul>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </section>

      <!-- Platform -->
      <section id="platform" class="py-20 bg-brand-bg">
        <div class="container mx-auto px-6">
          <div class="grid grid-cols-1 gap-12 items-center">
            <div class="mt-4 lg:mt-0">
              <span class="font-bold text-brand-yellow text-xs uppercase tracking-[0.25em] text-center block">The platform</span>
              <h2 class="font-heading font-bold text-3xl md:text-4xl text-brand-dark mt-3 mb-4 text-center">One platform for AI-first underwriting</h2>
              <p class="text-base md:text-lg text-brand-gray mb-8 max-w-2xl mx-auto text-center">
                TrustBureau brings all of your business verification, underwriting, and AI governance workflows into a single, auditable system of record.
              </p>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-3xl mx-auto">
                <div class="bg-white p-5 rounded-xl border border-brand-border shadow-sm">
                  <h3 class="font-semibold text-lg text-brand-dark">Model auditing</h3>
                  <p class="mt-2 text-brand-gray">Generate independent audit reports for performance, safety, and compliance across underwriting models.</p>
                </div>
                <div class="bg-white p-5 rounded-xl border border-brand-border shadow-sm">
                  <h3 class="font-semibold text-lg text-brand-dark">Bias &amp; fairness</h3>
                  <p class="mt-2 text-brand-gray">Detect and mitigate algorithmic bias across protected classes, geos, and product lines.</p>
                </div>
                <div class="bg-white p-5 rounded-xl border border-brand-border shadow-sm">
                  <h3 class="font-semibold text-lg text-brand-dark">Security &amp; robustness</h3>
                  <p class="mt-2 text-brand-gray">Test against adversarial attacks, data poisoning, and other vulnerabilities that impact decisions.</p>
                </div>
                <div class="bg-white p-5 rounded-xl border border-brand-border shadow-sm">
                  <h3 class="font-semibold text-lg text-brand-dark">Explainable AI (XAI)</h3>
                  <p class="mt-2 text-brand-gray">Generate clear, regulator-friendly explanations for complex underwriting decisions in a click.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- How it Works -->
      <section id="how-it-works" class="py-20 bg-white">
        <div class="container mx-auto px-6">
          <h2 class="text-xs text-brand-yellow font-semibold text-center uppercase tracking-[0.25em]">How it works</h2>
          <h3 class="font-heading font-bold text-3xl md:text-4xl text-brand-dark text-center mt-3">From search to decision in seconds</h3>
          <p class="text-base md:text-lg text-brand-gray text-center mt-4 max-w-2xl mx-auto">
            Underwrite any business with a single search. Our AI does the heavy lifting across data providers, public records, and synthetic projections.
          </p>

          <div class="mt-16 grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div>
              <div class="flex items-start mb-6">
                <div class="flex-shrink-0 p-3 bg-brand-yellow rounded-full">
                  <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/></svg>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-semibold text-brand-dark">Search &amp; initiate</h4>
                  <p class="mt-1 text-brand-gray">Start with a business name, website, or tax ID. We automatically normalize and deduplicate entities.</p>
                </div>
              </div>
              <div class="flex items-start mb-6">
                <div class="flex-shrink-0 p-3 bg-brand-yellow rounded-full">
                  <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-4m0 0h4m-4 0l-4 4m4-4l4 4m6-6v4m0 0h-4m4 0l4-4m-4 4l-4-4m-6 0H6m0 0v-4m0 4l-4-4m4 4l-4 4m6-6v4"/></svg>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-semibold text-brand-dark">AI-powered aggregation</h4>
                  <p class="mt-1 text-brand-gray">Our engine aggregates corporate filings, banking-like cashflows, public records, news, and reviews in real time.</p>
                </div>
              </div>
              <div class="flex items-start">
                <div class="flex-shrink-0 p-3 bg-brand-yellow rounded-full">
                  <svg class="w-6 h-6 text-black" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-semibold text-brand-dark">Instant, actionable reports</h4>
                  <p class="mt-1 text-brand-gray">Get an explainable recommendation, risk score, and full drill-down so underwriters can say “yes” or “no” with confidence.</p>
                </div>
              </div>
            </div>

            <!-- Decline Example -->
            <div class="hero-visual mt-4 lg:mt-0" aria-hidden="true">
              <div class="hero-visual-header"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div>
              <div class="hero-visual-body">
                <div class="space-y-5">
                  <div class="flex items-center space-x-4">
                    <div class="score-circle score-red" style="width:80px;height:80px;font-size:1.75rem;border-width:6px;"><span>420</span></div>
                    <div class="flex-1 space-y-3">
                      <div class="h-6 bg-slate-100 rounded-md w-3/4"></div>
                      <div class="h-4 bg-slate-100 rounded-md w-1/2"></div>
                    </div>
                  </div>

                  <div class="p-4 border-l-4 rounded-r-lg bg-red-50 border-red-400 text-red-900">
                    <h5 class="font-heading font-semibold text-lg">Decline</h5>
                    <p class="text-sm mt-1">Multiple active tax liens, deteriorating balances, and no verifiable web presence.</p>
                  </div>

                  <div>
                    <h5 class="text-xs font-semibold uppercase tracking-wide text-brand-gray mb-2">Key drivers</h5>
                    <ul class="space-y-1.5">
                      <li class="flex items-start">
                        <svg class="w-4 h-4 text-red-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
                        <span class="text-sm text-brand-dark">Active state tax lien</span>
                      </li>
                      <li class="flex items-start">
                        <svg class="w-4 h-4 text-red-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>
                        <span class="text-sm text-brand-dark">No verifiable web presence</span>
                      </li>
                    </ul>
                  </div>

                  <div class="chart-visual" style="height:110px;padding:10px 12px 0 12px;">
                    <div class="bar-wrapper"><div class="bar bar-red" style="height:60%"></div><div class="bar-label" style="padding-top:2px;">Sep</div></div>
                    <div class="bar-wrapper"><div class="bar bar-red" style="height:40%"></div><div class="bar-label" style="padding-top:2px;">Oct</div></div>
                    <div class="bar-wrapper"><div class="bar bar-red" style="height:35%"></div><div class="bar-label" style="padding-top:2px;">Nov</div></div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- Pricing -->
      <section id="pricing" class="py-20 bg-brand-bg">
        <div class="container mx-auto px-6">
          <h2 class="text-xs text-brand-yellow font-semibold text-center uppercase tracking-[0.25em]">Pricing</h2>
          <h3 class="font-heading font-bold text-3xl md:text-4xl text-brand-dark text-center mt-3">Simple, transparent pricing</h3>
          <p class="text-base md:text-lg text-brand-gray text-center mt-4 max-w-2xl mx-auto">
            Start with a single report or roll out TrustBureau across your entire portfolio. No hidden fees, no long-term lock-in.
          </p>
          <div class="mt-16 grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Standard -->
            <div class="bg-white border border-brand-border rounded-2xl shadow-lg p-8 flex flex-col">
              <h4 class="font-heading font-bold text-2xl text-brand-dark">Standard</h4>
              <p class="mt-2 text-brand-gray">For individual underwriters and small teams.</p>
              <div class="mt-6"><span class="font-heading font-extrabold text-4xl text-brand-dark">$10</span> <span class="text-lg text-brand-gray">/ report</span></div>
              <ul class="mt-8 space-y-3 text-brand-gray">
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Comprehensive AI report</li>
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Public records check</li>
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Basic risk score</li>
              </ul>
              <a href="#demo" class="mt-auto w-full text-center cta-button bg-white text-brand-dark font-semibold py-3 px-6 rounded-lg text-lg border border-brand-border hover:bg-slate-50 mt-8">Get started</a>
            </div>

            <!-- Pro -->
            <div class="bg-white border-2 border-brand-yellow rounded-2xl shadow-2xl p-8 flex flex-col relative overflow-hidden">
              <span class="absolute top-0 right-0 bg-brand-yellow text-black text-xs font-bold px-4 py-1 rounded-bl-lg">Most popular</span>
              <h4 class="font-heading font-bold text-2xl text-brand-dark">Pro</h4>
              <p class="mt-2 text-brand-gray">For growing lenders and credit teams.</p>
              <div class="mt-6"><span class="font-heading font-extrabold text-4xl text-brand-dark">$500</span> <span class="text-lg text-brand-gray">/ mo</span></div>
              <ul class="mt-8 space-y-3 text-brand-gray">
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>100 reports / month</li>
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Bank data-style analysis</li>
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Advanced risk scoring</li>
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Sentiment &amp; media analysis</li>
              </ul>
              <a href="#demo" class="mt-auto w-full text-center cta-button bg-brand-yellow text-black font-semibold py-3 px-6 rounded-lg text-lg hover:bg-yellow-300 mt-8">Get started</a>
            </div>

            <!-- Enterprise -->
            <div class="bg-white border border-brand-border rounded-2xl shadow-lg p-8 flex flex-col">
              <h4 class="font-heading font-bold text-2xl text-brand-dark">Enterprise</h4>
              <p class="mt-2 text-brand-gray">For large portfolios and embedded fintechs.</p>
              <div class="mt-6"><span class="font-heading font-extrabold text-3xl text-brand-dark">Custom</span></div>
              <ul class="mt-8 space-y-3 text-brand-gray">
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Unlimited reports</li>
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Full API access</li>
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>AI governance &amp; audit suite</li>
                <li class="flex items-center"><svg class="w-5 h-5 text-brand-yellow mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/></svg>Dedicated support &amp; SLAs</li>
              </ul>
              <a href="#demo" class="mt-auto w-full text-center cta-button bg-white text-brand-dark font-semibold py-3 px-6 rounded-lg text-lg border border-brand-border hover:bg-slate-50 mt-8">Contact sales</a>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-brand-border">
      <div class="container mx-auto px-6 py-10">
        <div class="flex flex-col md:flex-row justify-between items-center gap-4">
          <div class="flex items-center space-x-2">
            <svg class="w-8 h-8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 2L2.5 7.5V17C2.5 19.5 6.6 22 12 22C17.4 22 21.5 19.5 21.5 17V7.5L12 2Z" fill="#FACC15"/>
              <path d="M10.5 15.1999L17.5 8.19995L16.1 6.79995L10.5 12.3999L7.7 9.59995L6.3 10.9999L10.5 15.1999Z" fill="#0F172A"/>
            </svg>
            <span class="font-heading font-bold text-xl text-brand-dark">TrustBureau.ai</span>
          </div>
          <nav class="flex space-x-6" aria-label="Footer navigation">
            <a href="#platform" class="text-sm font-medium text-brand-gray hover:text-brand-dark transition-colors">Platform</a>
            <a href="#pricing" class="text-sm font-medium text-brand-gray hover:text-brand-dark transition-colors">Pricing</a>
            <a href="#demo" class="text-sm font-medium text-brand-gray hover:text-brand-dark transition-colors">Demo</a>
          </nav>
        </div>
        <div class="mt-6 text-center text-brand-gray text-xs">&copy; 2025 TrustBureau.ai. All rights reserved.</div>
      </div>
    </footer>
  </div>

  <!-- JS: same logic, with light-theme class tweaks -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const bankingChartAvgBalance = document.getElementById('banking-chart-avg-balance');
      const bankingChartDebt = document.getElementById('banking-chart-debt');
      const bankingChartEndBalance = document.getElementById('banking-chart-end-balance');
      const bankingChartRevenue = document.getElementById('banking-chart-revenue');
      const businessNameInput = document.getElementById('business-name');
      const companyNameHeader = document.getElementById('report-company-name-header');
      const competitorsList = document.getElementById('report-competitors-list');
      const contentContainer = document.getElementById('report-content');
      const debtObligationsList = document.getElementById('report-debt-obligations-list');
      const errorContainer = document.getElementById('report-error-container');
      const errorMessage = document.getElementById('report-error-message');
      const finCreditAvgRevenue = document.getElementById('report-fin-credit-avg-revenue');
      const finCreditDecision = document.getElementById('report-fin-credit-decision');
      const finCreditRevolvingDebt = document.getElementById('report-fin-credit-revolving-debt');
      const finCreditScore = document.getElementById('report-fin-credit-score');
      const finCreditTotalDebt = document.getElementById('report-fin-credit-total-debt');
      const finEstCash = document.getElementById('report-fin-est-cash');
      const finEstMargin = document.getElementById('report-fin-est-margin');
      const finEstRevenue = document.getElementById('report-fin-est-revenue');
      const finMarketCap = document.getElementById('report-fin-marketcap');
      const finNetIncome = document.getElementById('report-fin-netincome');
      const finNote = document.getElementById('report-fin-note');
      const finPrivateDiv = document.getElementById('report-fin-private');
      const finPublicDiv = document.getElementById('report-fin-public');
      const finRevenue = document.getElementById('report-fin-revenue');
      const finTicker = document.getElementById('report-fin-ticker');
      const generateReportBtn = document.getElementById('generate-report-btn');
      const keyAddress = document.getElementById('report-key-address');
      const keyCeo = document.getElementById('report-key-ceo');
      const keyEmployees = document.getElementById('report-key-employees');
      const keyFounded = document.getElementById('report-key-founded');
      const keyIndustry = document.getElementById('report-key-industry');
      const keyPhone = document.getElementById('report-key-phone');
      const keyWebsite = document.getElementById('report-key-website');
      const legalList = document.getElementById('report-legal-list');
      const loader = document.getElementById('report-loader');
      const mainWidgetContainer = document.getElementById('main-widget-container');
      const mapFallback = document.getElementById('report-map-fallback');
      const mapIframe = document.getElementById('report-map-iframe');
      const mobileMenu = document.getElementById('mobile-menu');
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const monthlyBreakdownBody = document.getElementById('report-monthly-breakdown-body');
      const newsList = document.getElementById('report-news-list');
      const positiveList = document.getElementById('report-score-positives');
      const recommendationBox = document.getElementById('report-recommendation-box');
      const recommendationDecision = document.getElementById('report-recommendation-decision');
      const recommendationJustification = document.getElementById('report-recommendation-justification');
      const recordsList = document.getElementById('report-records-list');
      const reportSearchHeader = document.getElementById('report-search-header');
      const reportStaticHeader = document.getElementById('report-static-header');
      const resultsUi = document.getElementById('report-results-ui');
      const reviewsList = document.getElementById('report-reviews-list');
      const riskChecklist = document.getElementById('report-risk-checklist');
      const scoreCircle = document.getElementById('report-score-circle');
      const scoreDigit = document.getElementById('report-score-digit');
      const scoreJustification = document.getElementById('report-score-justification');
      const counterpartiesList = document.getElementById('report-counterparties-list');
      const negativeList = document.getElementById('report-score-negatives');
      const sentimentJustification = document.getElementById('report-sentiment-justification');
      const sentimentRating = document.getElementById('report-sentiment-rating');
      const sosAgent = document.getElementById('report-sos-agent');
      const sosDate = document.getElementById('report-sos-date');
      const sosEntity = document.getElementById('report-sos-entity');
      const sosJurisdiction = document.getElementById('report-sos-jurisdiction');
      const sosName = document.getElementById('report-sos-name');
      const sosStatus = document.getElementById('report-sos-status');
      const sourcesContainer = document.getElementById('report-sources-container');
      const sourcesList = document.getElementById('report-sources');
      const summaryHeader = document.getElementById('report-summary-header');
      const swotOpportunities = document.getElementById('report-swot-opportunities');
      const swotStrengths = document.getElementById('report-swot-strengths');
      const swotThreats = document.getElementById('report-swot-threats');
      const swotWeaknesses = document.getElementById('report-swot-weaknesses');

      function showReportState(state, message = '') {
        if (!loader || !errorContainer || !contentContainer || !resultsUi || !mainWidgetContainer) return;
        resultsUi.style.display = 'block';
        if (reportStaticHeader) reportStaticHeader.style.display = 'none';
        if (state === 'loading') {
          loader.style.display = 'flex'; errorContainer.style.display = 'none'; contentContainer.style.display = 'none';
        } else if (state === 'error') {
          loader.style.display = 'none'; errorContainer.style.display = 'flex'; contentContainer.style.display = 'none';
          if (errorMessage) errorMessage.innerHTML = message;
        } else if (state === 'content') {
          loader.style.display = 'none'; errorContainer.style.display = 'none'; contentContainer.style.display = 'block';
          mainWidgetContainer.classList.add('max-w-7xl'); mainWidgetContainer.classList.remove('max-w-xl');
        }
      }

      function populateGenericList(element, items, formatter, placeholder = 'No information found.') {
        if (!element) return;
        element.innerHTML = '';
        if (items && items.length > 0) items.forEach(item => { element.innerHTML += formatter(item); });
        else element.innerHTML = `<li class="text-sm text-brand-gray italic">${placeholder}</li>`;
      }

      const formatFinding = (finding) => {
        const type = finding.type || 'Finding';
        const details = finding.details || 'No details';
        let color = 'text-brand-gray';
        if (type.toLowerCase().includes('no records') || type.toLowerCase().includes('clear')) color = 'text-emerald-600';
        else if (type.toLowerCase().includes('lien') || type.toLowerCase().includes('judgment') || type.toLowerCase().includes('lawsuit')) color = 'text-red-600';
        return `<li class="${color}"><strong>${type}:</strong> <span class="text-brand-gray">${details}</span></li>`;
      };

      const formatSwotItem = (item) => `<li class="text-sm text-brand-gray">${item}</li>`;

      const formatNewsItem = (item) => `
        <li class="report-list-item">
          <strong class="text-sm font-medium text-brand-dark">${item.title || 'No Title'}</strong>
          <p class="text-sm text-brand-gray mt-1 mb-2">${item.summary || 'No summary.'}</p>
          <span class="text-xs text-brand-gray font-medium">${item.source || 'Unknown Source'}</span>
        </li>`;

      const formatReviewItem = (item) => `
        <blockquote class="p-4 border-l-4 border-brand-border bg-slate-50 report-list-item">
          <div class="flex justify-between items-center mb-1">
            <span class="text-sm font-medium text-brand-dark">${item.source || 'Unknown Source'}</span>
            <span class="text-sm font-semibold text-amber-500">${item.rating || ''}</span>
          </div>
          <p class="text-sm italic text-brand-gray">"${item.snippet || 'No snippet provided.'}"</p>
        </blockquote>`;

      const formatCompetitorItem = (item) => `
        <li class="report-list-item">
          <strong class="text-sm font-medium text-brand-dark">${item.name || 'Unknown Competitor'}</strong>
          <p class="text-sm text-brand-gray mt-1">${item.summary || 'No summary.'}</p>
        </li>`;

      const formatDebtItem = (item) => `
        <li class="report-list-item">
          <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-1">
            <strong class="text-sm font-medium text-brand-dark">${item.type || 'Unknown Debt'}</strong>
            <span class="text-sm font-semibold text-red-600 sm:text-right">${item.monthlyPayment || 'N/A'} / mo</span>
          </div>
          <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-brand-gray">
            <span>Lender: <strong>${item.lender || 'Unknown Lender'}</strong></span>
            <span class="sm:text-right">Est. balance: <strong>${item.estimatedBalance || 'N/A'}</strong></span>
          </div>
        </li>`;

      const formatCounterpartyItem = (item) => {
        const flowColor = (item.flow || 'outflow').toLowerCase() === 'inflow' ? 'text-emerald-600' : 'text-red-600';
        return `
          <li class="report-list-item">
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-1">
              <strong class="text-sm font-medium text-brand-dark">${item.name || 'Unknown Counterparty'}</strong>
              <span class="text-sm font-semibold ${flowColor} sm:text-right">${item.avgAmount || 'N/A'} / mo</span>
            </div>
            <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center text-sm text-brand-gray">
              <span>Type: ${item.type || 'N/A'}</span>
              <span class="sm:text-right">Relationship: ${item.relationship || 'External'}</span>
            </div>
          </li>`;
      };

      function populateBankingCharts(element, data, barColorClass) {
        if (!element) return;
        element.innerHTML = '';
        if (!data || data.length === 0) { element.innerHTML = `<div class="chart-empty">No recent data available.</div>`; return; }
        const maxAmount = Math.max(...data.map(d => d.amount || 0));
        const scaleMax = maxAmount === 0 ? 1 : maxAmount * 1.1;
        data.forEach(item => {
          const barHeight = (item.amount / scaleMax) * 100;
          element.innerHTML += `
            <div class="bar-wrapper" title="${item.label}: ${item.value}">
              <div class="bar-value">${item.value || 'N/A'}</div>
              <div class="bar ${barColorClass || 'bar-green'}" style="height:${barHeight}%"></div>
              <div class="bar-label">${item.label || 'N/A'}</div>
            </div>`;
        });
      }

      function populateMonthlyTable(bodyElement, months, averages) {
        if (!bodyElement) return;
        bodyElement.innerHTML = '';
        if (!months || months.length === 0) {
          bodyElement.innerHTML = `<tr><td colspan="8" class="text-center italic text-brand-gray">No monthly statement breakdown available.</td></tr>`;
          return;
        }
        months.forEach(month => {
          const netColor = (month.netCashflow || '').startsWith('-') ? 'text-red-table' : 'text-green-table';
          bodyElement.innerHTML += `
            <tr>
              <td class="font-medium text-brand-dark">${month.month || 'N/A'}</td>
              <td class="text-green-table">${month.credits || '$0.00'}</td>
              <td class="text-red-table">${month.debits || '$0.00'}</td>
              <td>${month.avgBalance || '$0.00'}</td>
              <td>${month.minBalance || '$0.00'}</td>
              <td class="${(month.daysNeg || 0) > 0 ? 'text-red-table font-bold' : ''}">${month.daysNeg || 0}</td>
              <td class="${(month.nsfs || 0) > 0 ? 'text-red-table font-bold' : ''}">${month.nsfs || 0}</td>
              <td class="font-medium ${netColor}">${month.netCashflow || '$0.00'}</td>
            </tr>`;
        });
        if (averages) {
          const avgNetColor = (averages.netCashflow || '').startsWith('-') ? 'text-red-table' : 'text-green-table';
          bodyElement.innerHTML += `
            <tr class="monthly-avg">
              <td>Average</td>
              <td>${averages.credits || '$0.00'}</td>
              <td>${averages.debits || '$0.00'}</td>
              <td>${averages.avgBalance || '$0.00'}</td>
              <td>${averages.minBalance || '$0.00'}</td>
              <td>${averages.daysNeg || 0}</td>
              <td>${averages.nsfs || 0}</td>
              <td class="${avgNetColor}">${averages.netCashflow || '$0.00'}</td>
            </tr>`;
        }
      }

      function populateRiskChecklist(element, items) {
        if (!element) return;
        element.innerHTML = '';
        if (!items || items.length === 0) {
          element.innerHTML = `<li class="text-sm text-brand-gray italic">No checklist items available.</li>`;
          return;
        }
        items.forEach(item => {
          let colorClass = 'risk-grey';
          if (item.color === 'green') colorClass = 'risk-green';
          else if (item.color === 'red') colorClass = 'risk-red';
          else if (item.color === 'yellow') colorClass = 'risk-yellow';
          element.innerHTML += `
            <li class="risk-checklist-item">
              <span class="risk-label">${item.label || 'Unknown Check'}</span>
              <span class="risk-status ${colorClass}">${item.status || 'Not assessed.'}</span>
            </li>`;
        });
      }

      function populateSources(sources) {
        if (!sourcesList || !sourcesContainer) return;
        sourcesList.innerHTML = '';
        if (sources && sources.length > 0) {
          sources.forEach(source => {
            const li = document.createElement('li');
            li.className = 'text-xs truncate';
            li.innerHTML = `<a href="${source.uri}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-700 hover:underline">${source.title || source.uri}</a>`;
            sourcesList.appendChild(li);
          });
          sourcesContainer.style.display = 'block';
        } else {
          sourcesContainer.style.display = 'none';
        }
      }

      function populateReport(data) {
        if (!data) return;

        if (companyNameHeader) companyNameHeader.innerText = data.keyInfo?.companyName || 'Business report';
        if (summaryHeader) summaryHeader.innerText = data.keyInfo?.summary || 'A comprehensive AI-generated report.';

        const decision = data.aiRecommendation?.decision || 'Manual review';
        if (recommendationDecision) recommendationDecision.innerText = decision;
        if (recommendationJustification) recommendationJustification.innerText = data.aiRecommendation?.justification || 'AI justification not provided.';

        if (recommendationBox) {
          // Base + light variants
          recommendationBox.className = 'p-4 border-l-4 rounded-r-lg';
          if (decision.toLowerCase() === 'approve') {
            recommendationBox.classList.add('bg-emerald-50','border-emerald-400','text-emerald-900');
            if (recommendationDecision) recommendationDecision.className = 'font-heading font-bold text-2xl text-emerald-700';
          } else if (decision.toLowerCase() === 'decline') {
            recommendationBox.classList.add('bg-red-50','border-red-400','text-red-900');
            if (recommendationDecision) recommendationDecision.className = 'font-heading font-bold text-2xl text-red-700';
          } else {
            recommendationBox.classList.add('bg-amber-50','border-amber-400','text-amber-900');
            if (recommendationDecision) recommendationDecision.className = 'font-heading font-bold text-2xl text-amber-700';
          }
        }

        const score = data.aiRiskScore?.score || 0;
        if (scoreDigit) scoreDigit.innerText = score;
        if (scoreJustification) scoreJustification.innerText = data.aiRiskScore?.justification || 'No justification provided.';

        if (scoreCircle) {
          scoreCircle.className = 'score-circle mb-4';
          if (score < 550) scoreCircle.classList.add('score-red');
          else if (score < 700) scoreCircle.classList.add('score-yellow');
          else scoreCircle.classList.add('score-green');
        }

        const checkIcon = '<svg class="w-4 h-4 text-emerald-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>';
        const xIcon = '<svg class="w-4 h-4 text-red-500 mr-2 mt-0.5 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>';

        populateGenericList(positiveList, data.aiRiskScore?.positiveFactors, (item) => `<li class="flex items-start">${checkIcon}<span class="text-sm text-brand-dark">${item}</span></li>`, 'No positive factors noted.');
        populateGenericList(negativeList, data.aiRiskScore?.negativeFactors, (item) => `<li class="flex items-start">${xIcon}<span class="text-sm text-brand-dark">${item}</span></li>`, 'No negative factors noted.');

        if (keyWebsite) {
          if (data.keyInfo?.website) {
            const site = data.keyInfo.website;
            const href = site.startsWith('http') ? site : `//${site}`;
            keyWebsite.innerHTML = `<a href="${href}" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:underline">${site}</a>`;
          } else keyWebsite.innerText = 'N/A';
        }
        if (keyIndustry) keyIndustry.innerText = data.keyInfo?.industry || 'N/A';
        if (keyCeo) keyCeo.innerText = data.keyInfo?.ceoName || 'N/A';
        if (keyFounded) keyFounded.innerText = data.keyInfo?.yearFounded || 'N/A';
        if (keyEmployees) keyEmployees.innerText = data.keyInfo?.employeeCount || 'N/A';
        if (keyPhone) keyPhone.innerText = data.keyInfo?.phone || 'N/A';
        if (keyAddress) keyAddress.innerText = data.keyInfo?.fullAddress || 'N/A';

        const address = data.keyInfo?.fullAddress;
        if (address && address !== 'N/A' && mapIframe && mapFallback) {
          const encodedAddress = encodeURIComponent(address);
          mapIframe.src = `https://maps.google.com/maps?q=${encodedAddress}&t=&z=13&ie=UTF8&iwloc=&output=embed`;
          mapIframe.style.display = 'block'; mapFallback.style.display = 'none';
        } else if (mapIframe && mapFallback) {
          mapIframe.style.display = 'none'; mapFallback.style.display = 'block';
        }

        if (sosName) sosName.innerText = data.sos?.entityName || 'N/A';
        if (sosStatus) sosStatus.innerText = data.sos?.status || 'N/A';
        if (sosEntity) sosEntity.innerText = data.sos?.entityType || 'N/A';
        if (sosJurisdiction) sosJurisdiction.innerText = data.sos?.jurisdiction || 'N/A';
        if (sosDate) sosDate.innerText = data.sos?.formationDate || 'N/A';
        if (sosAgent) sosAgent.innerText = data.sos?.registeredAgent || 'N/A';
        if (sosStatus) {
          sosStatus.className = 'font-medium sm:text-right break-words';
          if (data.sos?.status?.toLowerCase().includes('active')) sosStatus.classList.add('text-emerald-700');
          else if (data.sos?.status && !data.sos?.status.toLowerCase().includes('n/a')) sosStatus.classList.add('text-red-600');
          else sosStatus.classList.add('text-brand-dark');
        }

        const fin = data.financialSummary;
        if (fin && finPublicDiv && finPrivateDiv && finNote) {
          if (fin.isPublic) {
            finPublicDiv.style.display = 'block'; finPrivateDiv.style.display = 'none';
            if (finTicker) finTicker.innerText = fin.tickerSymbol || 'N/A';
            if (finMarketCap) finMarketCap.innerText = fin.marketCap || 'N/A';
            if (finRevenue) finRevenue.innerText = fin.latestRevenue || 'N/A';
            if (finNetIncome) finNetIncome.innerText = fin.netIncome || 'N/A';
          } else {
            finPublicDiv.style.display = 'none'; finPrivateDiv.style.display = 'block';
            if (finEstRevenue) finEstRevenue.innerText = fin.estAnnualRevenue || 'N/A';
            if (finEstMargin)  finEstMargin.innerText  = fin.estProfitMargin || 'N/A';
            if (finEstCash)    finEstCash.innerText    = fin.cashOnHand || 'N/A';
          }
          if (finCreditDecision)     finCreditDecision.innerText     = fin.creditDecision || 'N/A';
          if (finCreditScore)        finCreditScore.innerText        = fin.ficoScore || 'N/A';
          if (finCreditTotalDebt)    finCreditTotalDebt.innerText    = fin.totalDebt || 'N/A';
          if (finCreditRevolvingDebt)finCreditRevolvingDebt.innerText= fin.revolvingDebt || 'N/A';
          if (finCreditAvgRevenue)   finCreditAvgRevenue.innerText   = fin.avgMonthlyRevenue || 'N/A';
          finNote.innerText = fin.note || (fin.isPublic ? 'Data sourced from public filings.' : 'Fictional data generated by AI for demonstration.');
        }

        populateGenericList(swotStrengths,   data.swotAnalysis?.strengths,   formatSwotItem, 'No strengths identified.');
        populateGenericList(swotWeaknesses,  data.swotAnalysis?.weaknesses,  formatSwotItem, 'No weaknesses identified.');
        populateGenericList(swotOpportunities,data.swotAnalysis?.opportunities,formatSwotItem, 'No opportunities identified.');
        populateGenericList(swotThreats,     data.swotAnalysis?.threats,     formatSwotItem, 'No threats identified.');

        if (sentimentRating) sentimentRating.innerText = data.publicSentiment?.rating || 'Neutral';
        if (sentimentJustification) sentimentJustification.innerText = data.publicSentiment?.justification || 'No sentiment analysis available.';

        populateGenericList(newsList,          data.recentNews,         formatNewsItem,   'No recent news found.');
        populateGenericList(reviewsList,       data.customerReviews,    formatReviewItem, 'No customer reviews found.');
        populateGenericList(competitorsList,   data.competitors,        formatCompetitorItem, 'No competitors identified.');
        populateGenericList(recordsList,       data.publicRecords?.findings, formatFinding, 'No public records found.');
        populateGenericList(legalList,         data.legalAndRegulatory?.findings, formatFinding, 'No legal or regulatory flags found.');

        populateBankingCharts(bankingChartRevenue,    data.bankingSnapshot?.revenue,         'bar-green');
        populateBankingCharts(bankingChartAvgBalance, data.bankingSnapshot?.avgDailyBalance, 'bar-grey');
        populateBankingCharts(bankingChartEndBalance, data.bankingSnapshot?.endingBalance,   'bar-yellow');
        populateBankingCharts(bankingChartDebt,       data.bankingSnapshot?.debtService,     'bar-red');

        populateMonthlyTable(monthlyBreakdownBody, data.monthlyBreakdown?.months, data.monthlyBreakdown?.averages);
        populateGenericList(debtObligationsList, data.debtObligations, formatDebtItem, 'No extrapolated debt obligations found.');
        populateGenericList(counterpartiesList, data.topCounterparties, formatCounterpartyItem, 'No counterparty data found.');
        populateRiskChecklist(riskChecklist, data.aiRiskChecklist);
      }

      async function fetchWithBackoff(url, options, retries = 3, delay = 1000) {
        let lastError;
        for (let i = 0; i < retries; i++) {
          try {
            const response = await fetch(url, options);
            if (!response.ok) {
              let errorBody; try { errorBody = await response.json(); } catch (e) { errorBody = null; }
              const errMsg = errorBody?.error?.message || response.statusText;
              lastError = new Error(`API Error: ${errMsg} (Status: ${response.status})`);
              if ((response.status === 429 || response.status >= 500) && i < retries - 1) {
                await new Promise(r => setTimeout(r, delay * Math.pow(2, i)));
                continue;
              } else { throw lastError; }
            }
            return await response.json();
          } catch (e) {
            lastError = e;
            if (i < retries - 1) await new Promise(r => setTimeout(r, delay * Math.pow(2, i)));
          }
        }
        throw lastError || new Error('API request failed after all retries.');
      }

      async function callReportAPI(systemPrompt, userQuery, logId = 'api') {
        const apiKey = ''; // <-- plug in a key if you wire this up
        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;

        const textPayload = {
          contents: [{ parts: [{ text: userQuery }] }],
          tools: [{ google_search: {} }],
          systemInstruction: { parts: [{ text: systemPrompt }] },
        };

        const result = await fetchWithBackoff(apiUrl, {
          method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(textPayload)
        });

        const candidate = result.candidates?.[0];
        const text = candidate?.content?.parts?.[0]?.text;
        if (!text) throw new Error('No content received from API.');

        let json = null;
        try {
          const startIndex = text.indexOf('{');
          const endIndex = text.lastIndexOf('}');
          if (startIndex === -1 || endIndex === -1 || endIndex < startIndex) throw new Error('Received non-JSON response from API.');
          const jsonString = text.substring(startIndex, endIndex + 1).trim();
          json = JSON.parse(jsonString);
        } catch (e) {
          throw new Error('Received an invalid JSON response from the API.');
        }

        let sources = [];
        const groundingMetadata = candidate.groundingMetadata;
        if (groundingMetadata && groundingMetadata.groundingAttributions) {
          sources = groundingMetadata.groundingAttributions
            .map(a => ({ uri: a.web?.uri, title: a.web?.title }))
            .filter(s => s.uri && s.title);
        }
        return { json, sources };
      }

      function getMasterPrompt() {
        return `You are a world-class Tier-4 Senior Underwriting Analyst and business intelligence expert. A user is requesting an 'insanely comprehensive' master report on a company. You MUST use Google Search extensively to find as much real-world data as possible.
1. Determine if the company is public or private.
2. Find: keyInfo, sos, publicRecords, legalAndRegulatory, recentNews, customerReviews, competitors.
3. Generate: publicSentiment, swotAnalysis, aiRiskScore (+factors), aiRecommendation.
4. FinancialSummary: if PUBLIC use real metrics; if PRIVATE, produce realistic estimates. Include credit snapshot fields and a note.
5. BankingSnapshot: four series with three months each (label, value, amount).
6. MonthlyBreakdown: three months + averages.
7. aiRiskChecklist: six items (label, status, color).
8. debtObligations: 2–3 items (type, lender, estimatedBalance, monthlyPayment).
9. topCounterparties: 2–3 items (name, type, flow, avgAmount, relationship).
10. Respond ONLY with a single valid JSON object as specified.`;
      }

      if (generateReportBtn) {
        generateReportBtn.addEventListener('click', async () => {
          const businessName = businessNameInput.value.trim();
          if (!businessName) { if (resultsUi) resultsUi.style.display = 'block'; if (reportSearchHeader) reportSearchHeader.style.display = 'none'; showReportState('error', 'Please enter a business name.'); return; }
          if (resultsUi) resultsUi.style.display = 'block';
          if (reportSearchHeader) reportSearchHeader.style.display = 'none';
          showReportState('loading'); generateReportBtn.disabled = true;

          const systemPrompt = getMasterPrompt();
          const userQuery = `Generate a master comprehensive AI business report for: "${businessName}"`;

          try {
            const { json, sources } = await callReportAPI(systemPrompt, userQuery, 'full-report');
            populateReport(json); populateSources(sources); showReportState('content');
          } catch (error) {
            console.error('Full Report Error:', error);
            showReportState('error', `Failed to generate report: ${error.message}.`);
          } finally {
            generateReportBtn.disabled = false;
          }
        });
      }

      const tryDemoBtns = document.querySelectorAll('a[href="#demo"]');
      if (tryDemoBtns) {
        tryDemoBtns.forEach(btn => {
          btn.addEventListener('click', (e) => {
            e.preventDefault();
            const demoSection = document.getElementById('demo');
            if (demoSection) demoSection.scrollIntoView({ behavior: 'smooth' });
            if (reportSearchHeader) reportSearchHeader.style.display = 'block';
            if (resultsUi) resultsUi.style.display = 'none';
            if (mainWidgetContainer) { mainWidgetContainer.classList.add('max-w-xl'); mainWidgetContainer.classList.remove('max-w-7xl'); }
            if (mobileMenu) mobileMenu.classList.add('hidden');
            if (mobileMenuBtn) mobileMenuBtn.setAttribute('aria-expanded', 'false');
          });
        });
      }

      if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', () => {
          const isOpen = !mobileMenu.classList.contains('hidden');
          mobileMenu.classList.toggle('hidden');
          mobileMenuBtn.setAttribute('aria-expanded', String(!isOpen));
        });
      }

      const navLinks = document.querySelectorAll('a[href="#platform"], a[href="#pricing"]');
      navLinks.forEach(link => {
        link.addEventListener('click', (e) => {
          e.preventDefault();
          const targetId = link.getAttribute('href');
          const targetElement = document.querySelector(targetId);
          if (targetElement) targetElement.scrollIntoView({ behavior: 'smooth' });
          if (mobileMenu) mobileMenu.classList.add('hidden');
          if (mobileMenuBtn) mobileMenuBtn.setAttribute('aria-expanded', 'false');
        });
      });

      // Default state: show sample report
      if (reportSearchHeader) reportSearchHeader.style.display = 'none';
      if (resultsUi) resultsUi.style.display = 'block';
      if (mainWidgetContainer) { mainWidgetContainer.classList.add('max-w-7xl'); mainWidgetContainer.classList.remove('max-w-xl'); }
    });
  </script>
</body>
</html>
